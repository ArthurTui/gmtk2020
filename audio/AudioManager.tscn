[gd_scene load_steps=13 format=2]

[ext_resource path="res://audio/AudioManager.gd" type="Script" id=1]
[ext_resource path="res://audio/SFX.tscn" type="PackedScene" id=2]
[ext_resource path="res://assets/sound/sfx/metal_stake.wav" type="AudioStream" id=3]
[ext_resource path="res://assets/sound/sfx/electromagnetic_field.wav" type="AudioStream" id=4]
[ext_resource path="res://assets/sound/sfx/acid_pool.wav" type="AudioStream" id=5]
[ext_resource path="res://assets/sound/sfx/lava.wav" type="AudioStream" id=6]
[ext_resource path="res://assets/sound/sfx/fire.wav" type="AudioStream" id=7]

[sub_resource type="GDScript" id=1]
script/source = "extends Node

export var stream = preload(\"res://assets/sound/sfx/peacockscream.wav\")
export var base_db := 0.0
export var db_var := 0.0
export var base_pitch := 1.0
export var pitch_var := 0.0

func setup():
	var player = $AudioStreamPlayer
	
	player.stream.audio_stream = stream
	
	randomize()
	player.volume_db = base_db + rand_range(-db_var, db_var)
	
	player.stream.random_pitch = 1 + pitch_var
	player.pitch_scale = base_pitch
	
	player.autoplay = true

func _on_AudioStreamPlayer_finished():
	queue_free()
"

[sub_resource type="GDScript" id=2]
script/source = "extends Node

export var stream = preload(\"res://assets/sound/sfx/peacockscream.wav\")
export var base_db := 0.0
export var db_var := 0.0
export var base_pitch := 1.0
export var pitch_var := 0.0

func setup():
	var player = $AudioStreamPlayer
	
	player.stream.audio_stream = stream
	
	randomize()
	player.volume_db = base_db + rand_range(-db_var, db_var)
	
	player.stream.random_pitch = 1 + pitch_var
	player.pitch_scale = base_pitch
	
	player.autoplay = true

func _on_AudioStreamPlayer_finished():
	queue_free()
"

[sub_resource type="GDScript" id=3]
script/source = "extends Node

export var stream = preload(\"res://assets/sound/sfx/peacockscream.wav\")
export var base_db := 0.0
export var db_var := 0.0
export var base_pitch := 1.0
export var pitch_var := 0.0

func setup():
	var player = $AudioStreamPlayer
	
	player.stream.audio_stream = stream
	
	randomize()
	player.volume_db = base_db + rand_range(-db_var, db_var)
	
	player.stream.random_pitch = 1 + pitch_var
	player.pitch_scale = base_pitch
	
	player.autoplay = true

func _on_AudioStreamPlayer_finished():
	queue_free()
"

[sub_resource type="GDScript" id=4]
script/source = "extends Node

export var stream = preload(\"res://assets/sound/sfx/peacockscream.wav\")
export var base_db := 0.0
export var db_var := 0.0
export var base_pitch := 1.0
export var pitch_var := 0.0

func setup():
	var player = $AudioStreamPlayer
	
	player.stream.audio_stream = stream
	
	randomize()
	player.volume_db = base_db + rand_range(-db_var, db_var)
	
	player.stream.random_pitch = 1 + pitch_var
	player.pitch_scale = base_pitch
	
	player.autoplay = true

func _on_AudioStreamPlayer_finished():
	queue_free()
"

[sub_resource type="GDScript" id=5]
script/source = "extends Node

export var stream = preload(\"res://assets/sound/sfx/peacockscream.wav\")
export var base_db := 0.0
export var db_var := 0.0
export var base_pitch := 1.0
export var pitch_var := 0.0

func setup():
	var player = $AudioStreamPlayer
	
	player.stream.audio_stream = stream
	
	randomize()
	player.volume_db = base_db + rand_range(-db_var, db_var)
	
	player.stream.random_pitch = 1 + pitch_var
	player.pitch_scale = base_pitch
	
	player.autoplay = true

func _on_AudioStreamPlayer_finished():
	queue_free()
"

[node name="AudioManager" type="Node"]
script = ExtResource( 1 )

[node name="SFXs" type="Node" parent="."]

[node name="Lava" parent="SFXs" instance=ExtResource( 2 )]
script = SubResource( 1 )
stream = ExtResource( 6 )

[node name="Fire" parent="SFXs" instance=ExtResource( 2 )]
script = SubResource( 2 )
stream = ExtResource( 7 )

[node name="Acid" parent="SFXs" instance=ExtResource( 2 )]
script = SubResource( 3 )
stream = ExtResource( 5 )

[node name="Eletric" parent="SFXs" instance=ExtResource( 2 )]
script = SubResource( 4 )
stream = ExtResource( 4 )
base_db = -30.0

[node name="MetalSpike" parent="SFXs" instance=ExtResource( 2 )]
script = SubResource( 5 )
stream = ExtResource( 3 )
